<!-- ko if: showNuis -->
<div class="oj-flex-item" style="border:1px solid lightgray;">		                                               										
    <oj-collapsible id="collapsible" expanded="true">
                <h5 slot="header">NUI values</h5>
                <oj-data-grid id="datagrid" 
                    style="width:100%;height:350px;display: grid; background-color:transparent;"                   
                    data= "[[dataSource]]"  
                    header.column.style = "height:45px; width:125px; text-align:center;"
                    header.column.sortable = "disable"
                    header.row.style ="width:200px;height:70px"
                    on-oj-before-current-cell='[[beforeCurrentCellListener]]'                  
                 ></oj-data-grid> 
                <div class="nui-grid-legend">
                    <div>
                        Legend:
                    </div>
                    <div class="wrapper">
                        Average
                        <div class="tooltipGrid">Average</div>
                    </div>
                    <div class="wrapper">
                        Best
                        <div class="tooltipGrid">Weighted Best 25% Percentile (best 25% percentile/average)</div>
                      </div>
                    <div class="wrapper">
                        CV
                        <div class="tooltipGrid">Weighted Standard Deviation (standard deviation/average)</div>
                      </div>
                    <div class="wrapper">
                        Delta
                        <div class="tooltipGrid">Weigthed Delta Between Best 25% Percentile and Average ((best 25% percentile - average)/average)</div>
                      </div>
                </div>
    </oj-collapsible>	  
</div>
<!-- /ko -->

<div id='measure-view-container' style="border:1px solid silver;position: relative;">    
    <div style="padding-left:16px; position:absolute; top:10px;left:0;" data-bind="style: { display: showUnitsConversion}">
            <oj-label for="select">Select unit:</oj-label>
            <oj-select-one id="select" style="max-width:20em" value="{{currentUnit}}">
              <!-- ko foreach: measureUnits -->
                <oj-option value="[[value]]"><span data-bind="text: label"></span></oj-option>
              <!-- /ko -->
            </oj-select-one>
    </div>  
        
    <h3 id="measureName" data-bind="text: measureNameForDiagram" align="center" style="margin-top: 20px;"></h3>
    <oj-chart id="lineChart"                
        style-defaults.line-type="[[$props.lineType]]"
        type="line"
        series="[[lineSeries]]"
        groups="[[lineGroups]]"
        animation-on-display="auto"
        animation-on-data-change="auto" 
        orientation="vertical" 
        hover-behavior="none"              
        zoom-and-scroll="live" 
        legend="[[legendValue]]" 
        hidden-categories="[[hiddenCategories]]" 
        drilling="on"
        on-oj-drill="[[chartDrill]]" 
        style="width:100%;height:350px;">
        
        <!-- ko if: hasComments -->      
        <div style="position: absolute; right: 15px; top:15px;"><img src='images/comment_unsel.png' height="32" width="32" style="opacity: .7;"></div>
        <div  data-bind="visible: shouldSeeNotice"  class="oj-panel  oj-sm-margin-2x demo-mypanel oj-panel-shadow-sm" style="position: absolute; bottom: 12%; left: 0; right: 0;margin-left: auto; margin-right: auto; width: 500px; max-height: 200px; overflow: auto;text-align: justify;">            
                  <oj-collapsible  id="ojCollapse" expanded="false" on-oj-before-expand='[[beforeExpand]]' on-oj-before-collapse='[[beforeCollapse]]'>                 
                    <p id="callapse-header" slot="header" data-bind="text: meaCommentPreview" style="margin-left: 10px; margin-right: 10px;"></p>                
                  </oj-collapsible>
            </div>
        <!-- /ko -->
    </oj-chart>  
</div>


